import{r as l,j as e,L as i,b as k}from"./app-DFoX_31O.js";import{d as _}from"./transition-3OawDzcn.js";import{c as u}from"./createLucideIcon-DON6P6MR.js";import{G as C}from"./graduation-cap-Us8o_iK6.js";import{B as S}from"./book-open-CR7Hf9nh.js";import{C as O}from"./circle-user-BZGH3VP_.js";const $=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],M=u("bell",$);const D=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],I=u("check-check",D);const L=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],E=u("check",L);const F=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],T=u("chevron-down",F);const A=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],U=u("log-out",A);const z=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],P=u("menu",z);const R=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],v=u("search",R);const q=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],G=u("shopping-cart",q);const B=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],H=u("x",B),w=l.createContext(),x=({children:r})=>{const[a,n]=l.useState(!1),h=()=>{n(o=>!o)};return e.jsx(w.Provider,{value:{open:a,setOpen:n,toggleOpen:h},children:e.jsx("div",{className:"relative",children:r})})},K=({children:r})=>{const{open:a,setOpen:n,toggleOpen:h}=l.useContext(w);return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:h,children:r}),a&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)})]})},V=({align:r="right",width:a="48",contentClasses:n="py-1 bg-white",children:h})=>{const{open:o,setOpen:m}=l.useContext(w);let d="origin-top";r==="left"?d="ltr:origin-top-left rtl:origin-top-right start-0":r==="right"&&(d="ltr:origin-top-right rtl:origin-top-left end-0");let c="";return a==="48"&&(c="w-48"),e.jsx(e.Fragment,{children:e.jsx(_,{show:o,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${d} ${c}`,onClick:()=>m(!1),children:e.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+n,children:h})})})})},X=({className:r="",children:a,...n})=>e.jsx(i,{...n,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+r,children:a});x.Trigger=K;x.Content=V;x.Link=X;function Y(){const[r,a]=l.useState(!1),[n,h]=l.useState([]),[o,m]=l.useState(0),d=l.useRef(null);l.useEffect(()=>{r&&c()},[r]),l.useEffect(()=>{c();const t=setInterval(c,3e4);return()=>clearInterval(t)},[]),l.useEffect(()=>{function t(s){d.current&&!d.current.contains(s.target)&&a(!1)}return r&&document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[r]);const c=async()=>{try{const s=await(await fetch("/api/notifications")).json();h(s.notifications||[]),m(s.unreadCount||0)}catch(t){console.error("Failed to fetch notifications:",t)}},N=async t=>{try{await fetch(`/notifications/${t}/read`,{method:"POST"}),c()}catch(s){console.error("Failed to mark as read:",s)}},y=async()=>{try{await fetch("/notifications/read-all",{method:"POST"}),c()}catch(t){console.error("Failed to mark all as read:",t)}},p=t=>{switch(t){case"enrollment":return"ðŸŽ“";case"review":return"â­";case"course_update":return"ðŸ“š";case"announcement":return"ðŸ“¢";default:return"ðŸ””"}},j=t=>{const s=Math.floor((new Date-new Date(t))/1e3);return s<60?"just now":s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:s<604800?`${Math.floor(s/86400)}d ago`:new Date(t).toLocaleDateString()};return e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{onClick:()=>a(!r),className:"relative p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all duration-200",children:[e.jsx(M,{className:"w-5 h-5"}),o>0&&e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),r&&e.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-slate-800 border border-slate-700 rounded-lg shadow-2xl overflow-hidden z-50",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-700 bg-slate-900",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:"Notifications"}),o>0&&e.jsxs("p",{className:"text-xs text-slate-400",children:[o," unread"]})]}),o>0&&e.jsxs("button",{onClick:y,className:"text-xs text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[e.jsx(I,{size:14}),"Mark all read"]})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.length===0?e.jsxs("div",{className:"px-4 py-12 text-center text-slate-400",children:[e.jsx(M,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):n.map(t=>e.jsx("div",{className:`px-4 py-3 border-b border-slate-700 hover:bg-slate-700/50 transition-colors ${t.read?"":"bg-slate-700/30"}`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"text-2xl flex-shrink-0",children:p(t.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h4",{className:"text-sm font-medium text-white",children:t.title}),!t.read&&e.jsx("button",{onClick:s=>{s.stopPropagation(),N(t.id)},className:"flex-shrink-0 p-1 text-blue-400 hover:text-blue-300",title:"Mark as read",children:e.jsx(E,{size:14})})]}),e.jsx("p",{className:"text-sm text-slate-400 mt-1 line-clamp-2",children:t.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-slate-500",children:j(t.created_at)}),t.link&&e.jsx(i,{href:t.link,onClick:()=>{N(t.id),a(!1)},className:"text-xs text-blue-400 hover:text-blue-300",children:"View â†’"})]})]})]})},t.id))})]})]})}function se({auth:r,startSolid:a=!1}){const[n,h]=l.useState(!1),[o,m]=l.useState(!1),[d,c]=l.useState(!1),[N,y]=l.useState(!1),[p,j]=l.useState("");l.useEffect(()=>{const s=()=>{h(window.scrollY>20)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const t=a||n;return e.jsxs("nav",{className:`fixed top-0 w-full z-50 transition-all duration-300 ${t?"bg-slate-900/95 backdrop-blur-lg shadow-lg shadow-black/20 border-b border-slate-800":"bg-transparent"}`,children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-20",children:[e.jsxs(i,{href:"/",className:"flex items-center space-x-3 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg blur-lg opacity-75 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"relative bg-gradient-to-r from-blue-500 to-purple-600 p-2 rounded-lg",children:e.jsx(C,{className:"w-7 h-7 text-white"})})]}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"NelnadoSolutions"})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-1",children:[e.jsx(g,{href:"/courses",icon:S,children:"Courses"}),e.jsx(g,{href:"/about",children:"About"}),e.jsx(g,{href:"/instructors",children:"Instructors"}),e.jsx(g,{href:"/contact",children:"Contact"}),e.jsx(g,{href:"/pricing",children:"Pricing"})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>c(!d),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all duration-200",children:e.jsx(v,{className:"w-5 h-5"})}),r?.user?e.jsxs(e.Fragment,{children:[e.jsx(Y,{}),e.jsxs(i,{href:"/cart",className:"relative p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all duration-200",children:[e.jsx(G,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:"3"})]}),e.jsxs(x,{children:[e.jsx(x.Trigger,{children:e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg transition-all duration-200 group",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-semibold",children:r.user.name.charAt(0).toUpperCase()})}),e.jsx("span",{className:"text-white text-sm font-medium",children:r.user.name}),e.jsx(T,{className:"w-4 h-4 text-slate-400 group-hover:text-white transition-colors"})]})}),e.jsxs(x.Content,{align:"right",width:"48",children:[e.jsxs(x.Link,{href:"/dashboard",className:"flex items-center space-x-2",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs(x.Link,{href:"/profile",className:"flex items-center space-x-2",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(x.Link,{href:"/logout",method:"post",as:"button",className:"flex items-center space-x-2",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign Out"})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{href:"/login",className:"px-6 py-2.5 text-white font-medium hover:text-blue-400 transition-colors",children:"Sign In"}),e.jsx(i,{href:"/register",className:"px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300",children:"Get Started"})]})]}),e.jsx("button",{onClick:()=>m(!o),className:"lg:hidden p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:o?e.jsx(H,{className:"w-6 h-6"}):e.jsx(P,{className:"w-6 h-6"})})]}),d&&e.jsx("div",{className:"hidden lg:block pb-4 animate-fadeIn",children:e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search courses, instructors, topics...",className:"w-full pl-12 pr-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0,value:p,onChange:s=>j(s.target.value),onKeyDown:s=>{if(s.key==="Enter"){const f=p.trim();f&&(k.visit(`/courses?search=${encodeURIComponent(f)}`),c(!1))}}})]})})]}),o&&e.jsx("div",{className:"lg:hidden bg-slate-900 border-t border-slate-800 animate-slideDown",children:e.jsxs("div",{className:"px-4 py-6 space-y-3",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(v,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search courses...",className:"w-full pl-12 pr-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",value:p,onChange:s=>j(s.target.value),onKeyDown:s=>{if(s.key==="Enter"){const f=p.trim();f&&(k.visit(`/courses?search=${encodeURIComponent(f)}`),m(!1))}}})]}),e.jsx(b,{href:"/courses",icon:S,children:"Courses"}),e.jsx(b,{href:"/about",children:"About"}),e.jsx(b,{href:"/instructors",children:"Instructors"}),e.jsx(b,{href:"/contact",children:"Contact"}),e.jsx(b,{href:"/pricing",children:"Pricing"}),e.jsx("div",{className:"pt-4 mt-4 border-t border-slate-800 space-y-3",children:r?.user?e.jsxs(e.Fragment,{children:[e.jsxs(i,{href:"/dashboard",className:"flex items-center space-x-3 px-4 py-3 bg-slate-800 rounded-lg hover:bg-slate-700 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:r.user.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:r.user.name}),e.jsx("p",{className:"text-slate-400 text-sm",children:"View Dashboard"})]})]}),e.jsxs(i,{href:"/cart",className:"flex items-center justify-between px-4 py-3 bg-slate-800 rounded-lg hover:bg-slate-700 transition-colors",children:[e.jsx("span",{className:"text-white font-medium",children:"Cart"}),e.jsx("span",{className:"bg-blue-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center",children:"3"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{href:"/login",className:"block w-full text-center px-6 py-3 bg-slate-800 text-white font-medium rounded-lg hover:bg-slate-700 transition-colors",children:"Sign In"}),e.jsx(i,{href:"/register",className:"block w-full text-center px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300",children:"Get Started"})]})})]})})]})}function g({href:r,icon:a,children:n}){return e.jsxs(i,{href:r,className:"flex items-center space-x-2 px-4 py-2 text-slate-300 hover:text-white hover:bg-slate-800 rounded-lg transition-all duration-200 group",children:[a&&e.jsx(a,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:n})]})}function b({href:r,icon:a,children:n}){return e.jsxs(i,{href:r,className:"flex items-center space-x-3 px-4 py-3 text-slate-300 hover:text-white hover:bg-slate-800 rounded-lg transition-all duration-200",children:[a&&e.jsx(a,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:n})]})}export{T as C,x as D,se as N,v as S,H as X,E as a,G as b};
