import{r as a,j as e,L as l,b as k}from"./app-BMXGkdR1.js";import{a as M,D as d,C as I,X as O,M as D}from"./Dropdown-qtfHSY1o.js";import{c as f}from"./createLucideIcon-C0iqZS47.js";import{G as C}from"./graduation-cap-PoFl4d8g.js";import{B as w}from"./book-open-lBDfH_if.js";import{C as L}from"./circle-user-BWBvP4Mr.js";const _=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],S=f("bell",_);const E=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],$=f("check-check",E);const A=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],F=f("log-out",A);const T=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],v=f("search",T);const U=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],R=f("shopping-cart",U);function P(){const[r,n]=a.useState(!1),[o,j]=a.useState([]),[i,b]=a.useState(0),h=a.useRef(null);a.useEffect(()=>{r&&c()},[r]),a.useEffect(()=>{c();const s=setInterval(c,3e4);return()=>clearInterval(s)},[]),a.useEffect(()=>{function s(t){h.current&&!h.current.contains(t.target)&&n(!1)}return r&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[r]);const c=async()=>{try{const t=await(await fetch("/api/notifications")).json();j(t.notifications||[]),b(t.unreadCount||0)}catch(s){console.error("Failed to fetch notifications:",s)}},N=async s=>{try{await fetch(`/notifications/${s}/read`,{method:"POST"}),c()}catch(t){console.error("Failed to mark as read:",t)}},y=async()=>{try{await fetch("/notifications/read-all",{method:"POST"}),c()}catch(s){console.error("Failed to mark all as read:",s)}},x=s=>{switch(s){case"enrollment":return"ðŸŽ“";case"review":return"â­";case"course_update":return"ðŸ“š";case"announcement":return"ðŸ“¢";default:return"ðŸ””"}},g=s=>{const t=Math.floor((new Date-new Date(s))/1e3);return t<60?"just now":t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:t<604800?`${Math.floor(t/86400)}d ago`:new Date(s).toLocaleDateString()};return e.jsxs("div",{className:"relative",ref:h,children:[e.jsxs("button",{onClick:()=>n(!r),className:"relative p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all duration-200",children:[e.jsx(S,{className:"w-5 h-5"}),i>0&&e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),r&&e.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-slate-800 border border-slate-700 rounded-lg shadow-2xl overflow-hidden z-50",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-700 bg-slate-900",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:"Notifications"}),i>0&&e.jsxs("p",{className:"text-xs text-slate-400",children:[i," unread"]})]}),i>0&&e.jsxs("button",{onClick:y,className:"text-xs text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[e.jsx($,{size:14}),"Mark all read"]})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.length===0?e.jsxs("div",{className:"px-4 py-12 text-center text-slate-400",children:[e.jsx(S,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):o.map(s=>e.jsx("div",{className:`px-4 py-3 border-b border-slate-700 hover:bg-slate-700/50 transition-colors ${s.read?"":"bg-slate-700/30"}`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"text-2xl flex-shrink-0",children:x(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h4",{className:"text-sm font-medium text-white",children:s.title}),!s.read&&e.jsx("button",{onClick:t=>{t.stopPropagation(),N(s.id)},className:"flex-shrink-0 p-1 text-blue-400 hover:text-blue-300",title:"Mark as read",children:e.jsx(M,{size:14})})]}),e.jsx("p",{className:"text-sm text-slate-400 mt-1 line-clamp-2",children:s.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-slate-500",children:g(s.created_at)}),s.link&&e.jsx(l,{href:s.link,onClick:()=>{N(s.id),n(!1)},className:"text-xs text-blue-400 hover:text-blue-300",children:"View â†’"})]})]})]})},s.id))})]})]})}function K({auth:r,startSolid:n=!1}){const[o,j]=a.useState(!1),[i,b]=a.useState(!1),[h,c]=a.useState(!1),[N,y]=a.useState(!1),[x,g]=a.useState("");a.useEffect(()=>{const t=()=>{j(window.scrollY>20)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]);const s=n||o;return e.jsxs("nav",{className:`fixed top-0 w-full z-50 transition-all duration-300 ${s?"bg-slate-900/95 backdrop-blur-lg shadow-lg shadow-black/20 border-b border-slate-800":"bg-transparent"}`,children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-20",children:[e.jsxs(l,{href:"/",className:"flex items-center space-x-3 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg blur-lg opacity-75 group-hover:opacity-100 transition-opacity"}),e.jsx("div",{className:"relative bg-gradient-to-r from-blue-500 to-purple-600 p-2 rounded-lg",children:e.jsx(C,{className:"w-7 h-7 text-white"})})]}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"NelnadoSolutions"})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-1",children:[e.jsx(m,{href:"/courses",icon:w,children:"Courses"}),e.jsx(m,{href:"/about",children:"About"}),e.jsx(m,{href:"/instructors",children:"Instructors"}),e.jsx(m,{href:"/contact",children:"Contact"}),e.jsx(m,{href:"/pricing",children:"Pricing"})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>c(!h),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all duration-200",children:e.jsx(v,{className:"w-5 h-5"})}),r?.user?e.jsxs(e.Fragment,{children:[e.jsx(P,{}),e.jsxs(l,{href:"/cart",className:"relative p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all duration-200",children:[e.jsx(R,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:"3"})]}),e.jsxs(d,{children:[e.jsx(d.Trigger,{children:e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg transition-all duration-200 group",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-semibold",children:r.user.name.charAt(0).toUpperCase()})}),e.jsx("span",{className:"text-white text-sm font-medium",children:r.user.name}),e.jsx(I,{className:"w-4 h-4 text-slate-400 group-hover:text-white transition-colors"})]})}),e.jsxs(d.Content,{align:"right",width:"48",children:[(r.user.role==="instructor"||r.user.role==="admin")&&e.jsxs(d.Link,{href:"/instructor/dashboard",className:"flex items-center space-x-2",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{children:"Teaching Dashboard"})]}),e.jsxs(d.Link,{href:"/dashboard",className:"flex items-center space-x-2",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs(d.Link,{href:"/profile",className:"flex items-center space-x-2",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(d.Link,{href:"/logout",method:"post",as:"button",className:"flex items-center space-x-2",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign Out"})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(l,{href:"/login",className:"px-6 py-2.5 text-white font-medium hover:text-blue-400 transition-colors",children:"Sign In"}),e.jsx(l,{href:"/register",className:"px-6 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300",children:"Get Started"})]})]}),e.jsx("button",{onClick:()=>b(!i),className:"lg:hidden p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:i?e.jsx(O,{className:"w-6 h-6"}):e.jsx(D,{className:"w-6 h-6"})})]}),h&&e.jsx("div",{className:"hidden lg:block pb-4 animate-fadeIn",children:e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search courses, instructors, topics...",className:"w-full pl-12 pr-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0,value:x,onChange:t=>g(t.target.value),onKeyDown:t=>{if(t.key==="Enter"){const u=x.trim();u&&(k.visit(`/courses?search=${encodeURIComponent(u)}`),c(!1))}}})]})})]}),i&&e.jsx("div",{className:"lg:hidden bg-slate-900 border-t border-slate-800 animate-slideDown",children:e.jsxs("div",{className:"px-4 py-6 space-y-3",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(v,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search courses...",className:"w-full pl-12 pr-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",value:x,onChange:t=>g(t.target.value),onKeyDown:t=>{if(t.key==="Enter"){const u=x.trim();u&&(k.visit(`/courses?search=${encodeURIComponent(u)}`),b(!1))}}})]}),e.jsx(p,{href:"/courses",icon:w,children:"Courses"}),e.jsx(p,{href:"/about",children:"About"}),e.jsx(p,{href:"/instructors",children:"Instructors"}),e.jsx(p,{href:"/contact",children:"Contact"}),e.jsx(p,{href:"/pricing",children:"Pricing"}),e.jsx("div",{className:"pt-4 mt-4 border-t border-slate-800 space-y-3",children:r?.user?e.jsxs(e.Fragment,{children:[e.jsxs(l,{href:"/dashboard",className:"flex items-center space-x-3 px-4 py-3 bg-slate-800 rounded-lg hover:bg-slate-700 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:r.user.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:r.user.name}),e.jsx("p",{className:"text-slate-400 text-sm",children:"View Dashboard"})]})]}),e.jsxs(l,{href:"/cart",className:"flex items-center justify-between px-4 py-3 bg-slate-800 rounded-lg hover:bg-slate-700 transition-colors",children:[e.jsx("span",{className:"text-white font-medium",children:"Cart"}),e.jsx("span",{className:"bg-blue-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center",children:"3"})]}),e.jsx(l,{href:"/logout",method:"post",as:"button",className:"w-full text-left px-4 py-3 bg-slate-800 rounded-lg hover:bg-slate-700 text-slate-200 font-medium transition-colors",children:"Sign Out"})]}):e.jsxs(e.Fragment,{children:[e.jsx(l,{href:"/login",className:"block w-full text-center px-6 py-3 bg-slate-800 text-white font-medium rounded-lg hover:bg-slate-700 transition-colors",children:"Sign In"}),e.jsx(l,{href:"/register",className:"block w-full text-center px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300",children:"Get Started"})]})})]})})]})}function m({href:r,icon:n,children:o}){return e.jsxs(l,{href:r,className:"flex items-center space-x-2 px-4 py-2 text-slate-300 hover:text-white hover:bg-slate-800 rounded-lg transition-all duration-200 group",children:[n&&e.jsx(n,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:o})]})}function p({href:r,icon:n,children:o}){return e.jsxs(l,{href:r,className:"flex items-center space-x-3 px-4 py-3 text-slate-300 hover:text-white hover:bg-slate-800 rounded-lg transition-all duration-200",children:[n&&e.jsx(n,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:o})]})}export{K as N,v as S,R as a};
