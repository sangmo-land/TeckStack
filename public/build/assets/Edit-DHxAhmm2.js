import{a as O,r as m,u as z,j as e,H as E,L as g}from"./app-D-QPMPuS.js";import{A as B}from"./AuthenticatedLayout-D0wvHvRr.js";import{B as F}from"./book-open-DLH3fILu.js";import{C as h}from"./circle-alert-DXz3GuC9.js";import{X as f}from"./Navbar-dAGNpwkZ.js";import{P as j}from"./plus-DaIOvCQ3.js";import"./ApplicationLogo-DaFad8n0.js";import"./createLucideIcon-B3djw4Pb.js";import"./transition-BMbpbzSV.js";import"./graduation-cap-DnoRwutI.js";import"./circle-user-DwAleF44.js";function V({course:l}){const{user:G}=O().props.auth,v=l.thumbnail_url?l.thumbnail_url.startsWith("http")||l.thumbnail_url.startsWith("/storage/")?l.thumbnail_url:`/storage/${l.thumbnail_url}`:null,[p,N]=m.useState(v),[o,u]=m.useState(l.learning_outcomes||[""]),[c,x]=m.useState(l.requirements||[""]),{data:r,setData:i,post:w,transform:y,errors:d,processing:b}=z({_method:"PATCH",title:l.title||"",description:l.description||"",overview:l.overview||"",category:l.category||"",level:l.level||"beginner",price:l.price||"",language:l.language||"English",thumbnail_url:l.thumbnail_url||"",learning_outcomes:l.learning_outcomes||[],requirements:l.requirements||[],is_published:l.is_published||!1}),C=["Web Development","Mobile Development","Data Science","Machine Learning","AI & ChatGPT","Cloud Computing","DevOps","Cybersecurity","Blockchain","Other"],k=["beginner","intermediate","advanced"],_=t=>{const s=t.target.files[0];if(s){const a=new FileReader;a.onload=n=>{N(n.target.result),i("thumbnail_url",s)},a.readAsDataURL(s)}},q=()=>u([...o,""]),P=t=>u(o.filter((s,a)=>a!==t)),L=(t,s)=>{const a=[...o];a[t]=s,u(a)},R=()=>x([...c,""]),D=t=>x(c.filter((s,a)=>a!==t)),S=(t,s)=>{const a=[...c];a[t]=s,x(a)},A=t=>{t.preventDefault();const s=o.filter(n=>n.trim()),a=c.filter(n=>n.trim());y(n=>({...n,learning_outcomes:s,requirements:a})),w(route("courses.update",l.id))};return e.jsxs(B,{useMarketingNavbar:!0,children:[e.jsx(E,{title:`Edit ${l.title}`}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[e.jsx("section",{className:"relative overflow-hidden px-4 sm:px-6 lg:px-8 py-12 border-b border-slate-700/50",children:e.jsx("div",{className:"relative max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:e.jsx(F,{className:"w-8 h-8 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white",children:"Edit Course"}),e.jsx("p",{className:"text-slate-400 mt-2",children:"Update your course details"})]})]}),e.jsx(g,{href:route("instructor.dashboard"),className:"px-4 py-2 text-sm text-slate-400 hover:text-white transition-colors",children:"â† Back"})]})})}),e.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("form",{onSubmit:A,className:"space-y-8",children:[e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Basic Information"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-white mb-2",children:["Course Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:r.title,onChange:t=>i("title",t.target.value),placeholder:"e.g., Advanced React.js Patterns",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"}),d.title&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-red-400 text-sm",children:[e.jsx(h,{size:16}),d.title]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-white mb-2",children:["Short Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:r.description,onChange:t=>i("description",t.target.value),placeholder:"Brief one-line summary",maxLength:"160",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[r.description.length,"/160 characters"]}),d.description&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-red-400 text-sm",children:[e.jsx(h,{size:16}),d.description]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Full Course Overview"}),e.jsx("textarea",{value:r.overview,onChange:t=>i("overview",t.target.value),placeholder:"Detailed description of what students will learn...",rows:"5",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Course Thumbnail Image"}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-500 file:text-white hover:file:bg-blue-600 cursor-pointer"}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"JPG, PNG (max 5MB)"})]}),p&&e.jsx("div",{className:"w-32 h-32 rounded-lg overflow-hidden border border-slate-600",children:e.jsx("img",{src:p,alt:"Preview",className:"w-full h-full object-cover"})})]})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Course Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-white mb-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:r.category,onChange:t=>i("category",t.target.value),className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",children:[e.jsx("option",{value:"",children:"Select a category"}),C.map(t=>e.jsx("option",{value:t,children:t},t))]}),d.category&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-red-400 text-sm",children:[e.jsx(h,{size:16}),d.category]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-white mb-2",children:["Difficulty Level ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{value:r.level,onChange:t=>i("level",t.target.value),className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",children:k.map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Language"}),e.jsxs("select",{value:r.language,onChange:t=>i("language",t.target.value),className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",children:[e.jsx("option",{value:"English",children:"English"}),e.jsx("option",{value:"Spanish",children:"Spanish"}),e.jsx("option",{value:"French",children:"French"}),e.jsx("option",{value:"German",children:"German"}),e.jsx("option",{value:"Chinese",children:"Chinese"}),e.jsx("option",{value:"Japanese",children:"Japanese"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Price ($)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:r.price,onChange:t=>i("price",t.target.value),placeholder:"0.00",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Leave blank for free course"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.is_published,onChange:t=>i("is_published",t.target.checked),className:"w-5 h-5 rounded bg-slate-700 border-slate-600 text-blue-500 focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-semibold",children:"Publish Course"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Make this course visible to students"})]})]})})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"What Students Will Learn"}),e.jsxs("div",{className:"space-y-4",children:[o.map((t,s)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:t,onChange:a=>L(s,a.target.value),placeholder:`Learning outcome ${s+1}`,className:"flex-1 px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"}),o.length>1&&e.jsx("button",{type:"button",onClick:()=>P(s),className:"px-3 py-3 rounded-lg bg-red-500/20 hover:bg-red-500/30 text-red-400 transition-colors",children:e.jsx(f,{size:18})})]},s)),e.jsxs("button",{type:"button",onClick:q,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 transition-colors mt-2",children:[e.jsx(j,{size:18}),"Add Learning Outcome"]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Prerequisites & Requirements"}),e.jsxs("div",{className:"space-y-4",children:[c.map((t,s)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:t,onChange:a=>S(s,a.target.value),placeholder:`Requirement ${s+1}`,className:"flex-1 px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"}),c.length>1&&e.jsx("button",{type:"button",onClick:()=>D(s),className:"px-3 py-3 rounded-lg bg-red-500/20 hover:bg-red-500/30 text-red-400 transition-colors",children:e.jsx(f,{size:18})})]},s)),e.jsxs("button",{type:"button",onClick:R,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 transition-colors mt-2",children:[e.jsx(j,{size:18}),"Add Requirement"]})]})]}),e.jsxs("div",{className:"flex gap-4 justify-end",children:[e.jsx(g,{href:route("instructor.dashboard"),className:"px-6 py-3 rounded-lg border border-slate-600 text-white hover:bg-slate-700/50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:b,className:"px-8 py-3 rounded-lg bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 transition-all",children:b?"Updating...":"Update Course"})]})]})})})]})]})}export{V as default};
